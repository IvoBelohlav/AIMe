<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 400" id="avatar">
  <!-- Definitions for reuse -->
  <defs>
    <!-- Mouth shapes for different phonemes -->
    <g id="mouth-shapes">
      <path id="mouth-rest" d="M120,160 Q150,170 180,160" fill="none" stroke="#8c5a46" stroke-width="2" />
      <path id="mouth-a" d="M120,160 Q150,180 180,160 Q150,190 120,160" fill="#701f29" stroke="#8c5a46" stroke-width="1.5" />
      <path id="mouth-e" d="M120,160 Q150,175 180,160 Q150,185 120,160" fill="#701f29" stroke="#8c5a46" stroke-width="1.5" />
      <path id="mouth-i" d="M130,160 Q150,165 170,160 Q150,170 130,160" fill="#701f29" stroke="#8c5a46" stroke-width="1.5" />
      <path id="mouth-o" d="M130,155 Q150,175 170,155 Q150,185 130,155" fill="#701f29" stroke="#8c5a46" stroke-width="1.5" />
      <path id="mouth-u" d="M135,160 Q150,170 165,160 Q150,180 135,160" fill="#701f29" stroke="#8c5a46" stroke-width="1.5" />
      <path id="mouth-m" d="M120,160 L180,160" stroke="#8c5a46" stroke-width="2" fill="none" />
      <path id="mouth-smile" d="M120,155 Q150,175 180,155" fill="none" stroke="#8c5a46" stroke-width="2" />
      <path id="mouth-broad-smile" d="M115,155 Q150,185 185,155" fill="none" stroke="#8c5a46" stroke-width="2" />
      <path id="mouth-sad" d="M120,165 Q150,155 180,165" fill="none" stroke="#8c5a46" stroke-width="2" />
    </g>
    
    <!-- Eyebrow shapes for expressions -->
    <g id="eyebrow-shapes">
      <path id="eyebrow-normal-left" d="M100,95 Q120,88 140,95" fill="none" stroke="#2b1700" stroke-width="2.5" />
      <path id="eyebrow-normal-right" d="M160,95 Q180,88 200,95" fill="none" stroke="#2b1700" stroke-width="2.5" />
      <path id="eyebrow-raised-left" d="M100,90 Q120,80 140,90" fill="none" stroke="#2b1700" stroke-width="2.5" />
      <path id="eyebrow-raised-right" d="M160,90 Q180,80 200,90" fill="none" stroke="#2b1700" stroke-width="2.5" />
      <path id="eyebrow-concerned-left" d="M100,95 Q120,85 140,90" fill="none" stroke="#2b1700" stroke-width="2.5" />
      <path id="eyebrow-concerned-right" d="M160,90 Q180,85 200,95" fill="none" stroke="#2b1700" stroke-width="2.5" />
      <path id="eyebrow-angry-left" d="M110,95 Q120,85 140,95" fill="none" stroke="#2b1700" stroke-width="2.5" />
      <path id="eyebrow-angry-right" d="M160,95 Q180,85 190,95" fill="none" stroke="#2b1700" stroke-width="2.5" />
    </g>
  </defs>

  <!-- Main avatar group with transform origin for head movement -->
  <g id="avatar-main" transform-origin="150 150">
    <!-- Shadow beneath for depth perception -->
    <ellipse id="shadow" cx="150" cy="380" rx="80" ry="10" fill="rgba(0,0,0,0.1)" />
    
    <!-- Body - more articulated for movement -->
    <g id="body" transform-origin="150 250">
      <!-- Torso - more natural shape -->
      <path id="torso" d="M110,230 C115,225 140,225 150,225 C160,225 185,225 190,230 C200,240 205,270 205,295 C205,320 180,320 150,320 C120,320 95,320 95,295 C95,270 100,240 110,230" fill="#3f51b5" />
      <path id="collar" d="M120,230 C130,226 140,225 150,225 C160,225 170,226 180,230" fill="none" stroke="#2c3f9f" stroke-width="2" />
      
      <!-- Shoulders for better proportion -->
      <ellipse id="shoulder-left" cx="105" cy="235" rx="15" ry="10" fill="#3f51b5" />
      <ellipse id="shoulder-right" cx="195" cy="235" rx="15" ry="10" fill="#3f51b5" />
      
      <!-- Arms with articulated joints for gestures -->
      <g id="arms">
        <!-- Left arm with joints for animation -->
        <g id="left-arm" transform-origin="105 240">
          <path id="left-upper-arm" d="M105,240 L80,290" stroke="#e1b496" stroke-width="18" stroke-linecap="round" fill="none" />
          <g id="left-forearm" transform-origin="80 290">
            <path d="M80,290 L70,340" stroke="#e1b496" stroke-width="16" stroke-linecap="round" fill="none" />
            <g id="left-hand" transform-origin="70 340">
              <ellipse cx="67" cy="340" rx="12" ry="10" fill="#e1b496" />
              <!-- Fingers -->
              <path d="M60,335 L56,325" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
              <path d="M64,333 L60,323" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
              <path d="M68,334 L66,322" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
              <path d="M72,336 L72,326" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
            </g>
          </g>
        </g>
        
        <!-- Right arm with joints for animation -->
        <g id="right-arm" transform-origin="195 240">
          <path id="right-upper-arm" d="M195,240 L220,290" stroke="#e1b496" stroke-width="18" stroke-linecap="round" fill="none" />
          <g id="right-forearm" transform-origin="220 290">
            <path d="M220,290 L230,340" stroke="#e1b496" stroke-width="16" stroke-linecap="round" fill="none" />
            <g id="right-hand" transform-origin="230 340">
              <ellipse cx="233" cy="340" rx="12" ry="10" fill="#e1b496" />
              <!-- Fingers -->
              <path d="M240,335 L244,325" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
              <path d="M236,333 L240,323" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
              <path d="M232,334 L234,322" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
              <path d="M228,336 L228,326" stroke="#e1b496" stroke-width="4" stroke-linecap="round" />
            </g>
          </g>
        </g>
      </g>
    </g>

    <!-- Head group for head movements -->
    <g id="head-group" transform-origin="150 120">
      <!-- Neck with better shaping -->
      <path id="neck" d="M135,185 C135,195 140,210 150,210 C160,210 165,195 165,185" fill="#e1b496" />
      
      <!-- Base head with softer edges -->
      <ellipse id="head" cx="150" cy="120" rx="70" ry="85" fill="#e1b496" />
      
      <!-- Ear left -->
      <path id="ear-left" d="M80,120 C75,105 80,95 85,95 C90,95 95,100 95,120" fill="#e1b496" />
      <path id="ear-inner-left" d="M85,110 C82,105 85,100 88,102" fill="none" stroke="#c9a287" stroke-width="1.5" />
      
      <!-- Ear right -->
      <path id="ear-right" d="M220,120 C225,105 220,95 215,95 C210,95 205,100 205,120" fill="#e1b496" />
      <path id="ear-inner-right" d="M215,110 C218,105 215,100 212,102" fill="none" stroke="#c9a287" stroke-width="1.5" />
      
      <!-- Hair with more detailed styling -->
      <path id="hair" d="M150,30 C100,30 70,60 70,100 C70,120 80,140 90,150
                        C90,130 95,120 105,110 
                        C105,120 110,130 120,135
                        C130,145 140,150 150,150 
                        C160,150 170,145 180,135
                        C190,130 195,120 195,110
                        C205,120 210,130 210,150 
                        C220,140 230,120 230,100 
                        C230,60 200,30 150,30 Z" fill="#2b1700" />
      
      <!-- Hair highlights for depth -->
      <path id="hair-highlight" d="M150,35 C170,35 190,40 210,60 C200,45 180,35 150,35" fill="#3a2200" opacity="0.5" />
      <path id="hair-highlight-2" d="M130,33 C110,35 90,45 80,70 C85,50 110,33 130,33" fill="#3a2200" opacity="0.3" />
      
      <!-- Wrinkles/details for more realistic face -->
      <path id="forehead-lines" d="M120,70 C130,65 145,65 160,68" fill="none" stroke="#c9a287" stroke-width="0.5" opacity="0.5" />
      <path id="cheek-contour-left" d="M90,130 C95,150 110,160 120,165" fill="none" stroke="#c9a287" stroke-width="0.5" opacity="0.5" />
      <path id="cheek-contour-right" d="M210,130 C205,150 190,160 180,165" fill="none" stroke="#c9a287" stroke-width="0.5" opacity="0.5" />
      
      <!-- Eyes group for eye movements -->
      <g id="eyes-group" transform-origin="150 110">
        <!-- Left eye socket for depth -->
        <path id="left-eye-socket" d="M105,107 C105,95 115,90 125,90 C135,90 145,95 145,107 C145,117 135,125 125,125 C115,125 105,117 105,107Z" fill="#d5aa8c" />
        
        <!-- Left eye -->
        <g id="left-eye">
          <ellipse cx="120" cy="110" rx="14" ry="10" fill="white" stroke="#888" stroke-width="0.5" />
          <circle id="left-pupil" cx="120" cy="110" r="5" fill="#301000" />
          <circle id="left-pupil-highlight" cx="122" cy="108" r="1.5" fill="white" />
          <path id="left-eyebrow" d="M100,95 Q120,88 140,95" fill="none" stroke="#2b1700" stroke-width="2.5" />
          <path id="left-eyelid" d="M107,110 Q120,110 133,110" stroke="#e1b496" fill="#e1b496" stroke-width="0.5" opacity="0" />
          <!-- Eyelashes for left eye -->
          <path id="left-eyelashes" d="M110,101 L108,97 M116,99 L116,95 M122,99 L123,95 M128,101 L130,97" stroke="#2b1700" stroke-width="0.8" />
        </g>
        
        <!-- Right eye socket for depth -->
        <path id="right-eye-socket" d="M155,107 C155,95 165,90 175,90 C185,90 195,95 195,107 C195,117 185,125 175,125 C165,125 155,117 155,107Z" fill="#d5aa8c" />
        
        <!-- Right eye -->
        <g id="right-eye">
          <ellipse cx="180" cy="110" rx="14" ry="10" fill="white" stroke="#888" stroke-width="0.5" />
          <circle id="right-pupil" cx="180" cy="110" r="5" fill="#301000" />
          <circle id="right-pupil-highlight" cx="182" cy="108" r="1.5" fill="white" />
          <path id="right-eyebrow" d="M160,95 Q180,88 200,95" fill="none" stroke="#2b1700" stroke-width="2.5" />
          <path id="right-eyelid" d="M167,110 Q180,110 193,110" stroke="#e1b496" fill="#e1b496" stroke-width="0.5" opacity="0" />
          <!-- Eyelashes for right eye -->
          <path id="right-eyelashes" d="M170,101 L168,97 M176,99 L176,95 M182,99 L183,95 M188,101 L190,97" stroke="#2b1700" stroke-width="0.8" />
        </g>
      </g>
      
      <!-- Nose with better shaping -->
      <path id="nose" d="M150,115 C153,125 156,135 154,140 C152,145 148,145 146,140" fill="none" stroke="#c9a287" stroke-width="1.5" />
      <path id="nose-highlight" d="M150,125 C151,125 152,125 152,126" fill="none" stroke="#e9c4aa" stroke-width="0.5" />
      
      <!-- Mouth with various expressions -->
      <g id="mouth-group" transform-origin="150 160">
        <!-- Lip definition for depth -->
        <path id="upper-lip" d="M120,158 Q150,163 180,158" fill="none" stroke="#c9a287" stroke-width="0.8" />
        
        <!-- Default closed mouth will be shown, others hidden via JS -->
        <path id="mouth-current" d="M120,160 Q150,170 180,160" fill="none" stroke="#8c5a46" stroke-width="2" />
        
        <!-- Smile/laugh lines for natural expressions -->
        <path id="smile-line-left" d="M110,145 C108,150 105,155 105,160" fill="none" stroke="#c9a287" stroke-width="0.5" opacity="0" />
        <path id="smile-line-right" d="M190,145 C192,150 195,155 195,160" fill="none" stroke="#c9a287" stroke-width="0.5" opacity="0" />
      </g>
      
      <!-- Chin definition -->
      <path id="chin" d="M135,180 C140,185 160,185 165,180" fill="none" stroke="#c9a287" stroke-width="0.5" opacity="0.5" />
      
      <!-- Glasses with rounder, more modern frames -->
      <g id="glasses">
        <rect x="100" y="105" width="40" height="25" rx="10" ry="10" fill="none" stroke="#444" stroke-width="1.5" />
        <rect x="160" y="105" width="40" height="25" rx="10" ry="10" fill="none" stroke="#444" stroke-width="1.5" />
        <line x1="140" y1="115" x2="160" y2="115" stroke="#444" stroke-width="1.5" />
        <path d="M98,110 C95,108 90,107 85,107" stroke="#444" stroke-width="1.5" fill="none" />
        <path d="M202,110 C205,108 210,107 215,107" stroke="#444" stroke-width="1.5" fill="none" />
      </g>
    </g>
  </g>
</svg>
